<!--
 Copyright 2016 Google Inc.
 
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at
 
      http://www.apache.org/licenses/LICENSE-2.0
 
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="canonical" href="https://weather-pwa-sample.firebaseapp.com/final/">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PWA</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.blue_grey-orange.min.css">
    <link rel="stylesheet" href="styles/inline.css">
    <link rel="stylesheet" href="styles/camera.css">
    <script defer src="https://code.getmdl.io/1.2.1/material.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>

    <!-- TODO add manifest here -->
    <link rel="manifest" href="/manifest.json">
    <!-- Add to home screen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Weather PWA">
    <link rel="apple-touch-icon" href="images/icons/icon-152x152.png">
    <meta name="msapplication-TileImage" content="images/icons/icon-144x144.png">
    <meta name="msapplication-TileColor" content="#2F3BA2">
</head>

<body>

    <!-- Uses a header that contracts as the page scrolls down. -->
    <div class="demo-layout-waterfall mdl-layout mdl-js-layout">
        <header class="mdl-layout__header mdl-layout__header--waterfall">
            <!-- Top row, always visible -->
            <div class="mdl-layout__header-row">
                <!-- Title -->
                <span class="mdl-layout-title">Title</span>
                <div class="mdl-layout-spacer"></div>
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable
                    mdl-textfield--floating-label mdl-textfield--align-right">
                    <label class="mdl-button mdl-js-button mdl-button--icon" for="waterfall-exp">
              <i class="material-icons">search</i>
            </label>
                    <div class="mdl-textfield__expandable-holder">
                        <input class="mdl-textfield__input" type="text" name="sample" id="waterfall-exp">
                    </div>
                </div>
            </div>
            <!-- Bottom row, not visible on scroll -->
            <div class="mdl-layout__header-row">
                <div class="mdl-layout-spacer"></div>
                <!-- Navigation -->
                <nav class="mdl-navigation"></nav>
            </div>
        </header>
        <div class="mdl-layout__drawer">
            <span class="mdl-layout-title">Title</span>
            <nav class="mdl-navigation">
                <a class="mdl-navigation__link" href="">Photobooth</a>
            </nav>
        </div>
        <main class="mdl-layout__content">
            <div class="demo-layout mdl-layout mdl-layout--fixed-header mdl-js-layout mdl-color--grey-100">
                <header class="demo-header mdl-layout__header mdl-layout__header--scroll mdl-color--grey-100 mdl-color-text--grey-800">
                    <div class="mdl-layout__header-row">
                        <span class="mdl-layout-title">Material Design Lite</span>
                        <div class="mdl-layout-spacer"></div>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
                            <label class="mdl-button mdl-js-button mdl-button--icon" for="search"><i class="material-icons">search</i></label>
                            <div class="mdl-textfield__expandable-holder">
                                <input class="mdl-textfield__input" type="text" id="search">
                                <label class="mdl-textfield__label" for="search">Enter your query...</label>
                            </div>
                        </div>
                    </div>
                </header>
                <div class="demo-ribbon"></div>
                <main class="demo-main mdl-layout__content">
                    <div id="camera-panel" class="demo-container mdl-grid home-tile">
                        <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
                        <div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col padding-20">

                            <h3>Quick Prints!</h3>
                            <p>With this app, the goal is for the user to print photos quickly withough having to go through the full site</p>
                            <p>Users can upload images via the camera or from their device</p>
                            <div class="center">
                                <a href="#image-upload-panel"><button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent ">image upload</button></a>
                                <a href="#camera-panel-reveal"><button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent ">Camera</button></a>
                            </div>

                        </div>
                    </div>

                    <!--Second section: File upload-->
                    <div id="image-upload-panel" class="demo-container mdl-grid panel">
                        <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
                        <div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col padding-20">
                            <article class="upload">
                                <h3>File Upload</h3>
                                <label for="files">Select multiple files: </label>
                                <input id="files" type="file" multiple/>
                                <button type="button" id="clear" class="mdl-button mdl-js-button mdl-button--raised">Clear</button>
                                <output id="result"></output>
                                <a href="#gps-panel"><button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent ">Continue</button></a>
                            </article>
                        </div>
                    </div>

                    <!--Third section: Camera App-->
                    <div id="camera-panel-reveal" class="demo-container mdl-grid panel">
                        <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
                        <div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col padding-20">
                            <div class="container">
                                <div class="app">
                                    <a href="#" id="start-camera" class="visible">Touch here to start the app.</a>
                                    <video muted id="camera-stream"></video>
                                    <img id="snap">
                                    <p id="error-message"></p>
                                    <div class="controls">
                                        <a href="#" id="delete-photo" title="Delete Photo" class="disabled"><i class="material-icons">delete</i></a>
                                        <a href="#" id="take-photo" title="Take Photo"><i class="material-icons">camera_alt</i></a>
                                        <a href="#" id="download-photo" download="selfie.png" title="Save Photo" class="disabled"><i class="material-icons">file_download</i></a>
                                    </div>
                                    <!-- Hidden canvas element. Used for taking snapshot of video. -->
                                    <canvas width="578" height="200" id="canvas-snap"></canvas>
                                </div>
                            </div>
                            <a href="#gps-panel"><button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent ">Continue</button></a>

                        </div>
                    </div>

                    <!--Fourth section: GPS Location-->
                    <div id="gps-panel" class="demo-container mdl-grid panel">
                        <div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col padding-20">
                            <article class="upload">
                                <h3>Your Current Location</h3>
                                <div id="gps-details"></div>
                                <div class="store-details">Based on these cordinates, your closest {{vendor}} is</div>
                                <div class="closest-store">901 Seymour Street, Vancouver, BC V6B 3M1 #55</div>
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label getmdl-select">
                                    <input class="mdl-textfield__input" id="country" name="country" value="Choose Store" type="text" readonly tabIndex="-1" data-val="choose" />
                                    <label class="mdl-textfield__label" for="country">Or choose from the following</label>
                                    <ul class="mdl-menu mdl-menu--bottom-left mdl-js-menu" for="country">
                                        <li class="mdl-menu__item" data-val="SPLS">1322 West Broadway, Vancouver, BC V6H 1H2 #223</li>
                                        <li class="mdl-menu__item" data-val="SPLS1">1055 West Georgia Street, Unit 220, Vancouver, BC V6E 3P3 #254</li>
                                        <li class="mdl-menu__item" data-val="SPLS2">1999 Marine Drive, N. Vancouver, BC V7P 3J3 #56</li>
                                    </ul>
                                </div>
                            </article>
                        </div>
                    </div>
                </main>
            </div>
        </main>
    </div>

    <!-- Uncomment the line below when ready to test with fake data -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker
                .register('service-worker.js')
                .then(function() {
                    console.log("Service Worker Registered");
                });
        }

        $(document).ready(function() {
            geoFindMe();
        });
    </script>
    <script src="scripts/upload.js"></script>
    <script src="scripts/camera.js"></script>
    <script src="scripts/gps.js"></script>

</body>

</html>